
\begin{lstlisting}[language=Python, caption=Súbor \lstinline|../dataJob_SSChar.ipynb cell:05|]
# Spracovanie dát pre prevádzkovú podmienku 0 [V]

data_pot = 'data_pot0' # Oznacenie pre prevadzkovu podmienku 0 [V]


# ----------------------------------------------
# Vykreslenie ustalenych usekov

exec(open('./figjobs/figJob_02.py', encoding='utf-8').read()) # skript je v subore figJob_02.py


# ----------------------------------------------
# Zlucenie usekov do datasetu ustalenych stavov

dataRepoDir = './dataRepo/'

sch_files = [
    f for f in os.listdir(dataRepoDir)
    if f.startswith('SCH') and data_pot in f
]

steadyStateData = np.empty((0, 2))

for sch_file in sch_files:

    sch_data = np.loadtxt(
        dataRepoDir + sch_file,
        delimiter=',',
        skiprows=1,
    )

    steadyStateData = np.vstack([steadyStateData, sch_data[:, 1:3]])

np.savetxt(dataRepoDir + 'ALLSCH_' + data_pot + '_steadyStateData' + '.csv',
    steadyStateData,
    delimiter=',',
    fmt='%.3f',
    header='sigOut,sigIn',
    comments='',
)


# ----------------------------------------------
# Vykreslenie dat ustalenych stavov

exec(open('./figjobs/figJob_03.py', encoding='utf-8').read())

# ----------------------------------------------
# Identifikacia modelu na linearnom useku

tmpMask = (steadyStateData[:, 1] >= 0) & (steadyStateData[:, 1] <= 7.1)

identData = steadyStateData[tmpMask, :]

polyKoef = np.polyfit(
    identData[:, 1],
    identData[:, 0],
    deg=1
)



# plot data pre f_1
plot_u1 = np.arange(0, 7.1, 0.1)
plot_y1 = np.polyval(polyKoef, plot_u1)

# plot data pre f_2
plot_u2 = np.arange(7, 10.1, 0.1)
plot_y2 = 10 * np.ones_like(plot_u2)

exec(open('./figjobs/figJob_04.py', encoding='utf-8').read()) \end{lstlisting}

